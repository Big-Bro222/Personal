<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><meta data-react-helmet="true" name="twitter:creator" content="@Ze.Qi"/><meta data-react-helmet="true" name="twitter:image:alt" content="thing learnt when implementing toon Shaders"/><meta data-react-helmet="true" name="twitter:image" content="https://big-bro222.github.io/banner.jpg"/><meta data-react-helmet="true" name="twitter:description" content="thing learnt when implementing toon Shaders"/><meta data-react-helmet="true" name="twitter:url" content="https://big-bro222.github.io/blog/toon-shader"/><meta data-react-helmet="true" name="twitter:title" content="Toon Shaders"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="og:image:alt" content="thing learnt when implementing toon Shaders"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="https://big-bro222.github.io/banner.jpg"/><meta data-react-helmet="true" property="og:description" content="thing learnt when implementing toon Shaders"/><meta data-react-helmet="true" property="og:url" content="https://big-bro222.github.io/blog/toon-shader"/><meta data-react-helmet="true" property="og:title" content="Toon Shaders"/><meta data-react-helmet="true" name="image" content="https://big-bro222.github.io/banner.jpg"/><meta data-react-helmet="true" name="description" content="thing learnt when implementing toon Shaders"/><meta name="generator" content="Gatsby 4.13.1"/><style data-href="/styles.e18a3d249044ca159671.css" data-identity="gatsby-global-css">@import url(https://fonts.googleapis.com/css?family=Anton);h2{color:#fff;font-size:24px;margin-bottom:20px;margin-top:20px;text-align:left}.bottomNav{color:#fff;font-family:Anton;font-size:2.5vw!important;font-weight:bolder;-webkit-text-decoration:gray solid underline;text-decoration:gray solid underline;-webkit-text-underline-position:under;text-underline-position:under;width:50%}.timeline-area{border-left:3px solid #505050;margin:0 auto;padding:0 20px 0 30px;width:80%}#timeline-title{font-size:1.5vw}#Intro-title,#timeline-title{color:#000!important;font-family:Anton;margin:20vw auto 5vw;width:80%}#Intro-title{font-size:4vw}.Intro{color:#000!important;font-family:Anton;font-size:.8vw;margin:20vw auto 5vw;width:80%}.link{box-shadow:inset 0 -.5em gold;color:#000;display:inline-block;text-decoration:none;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.link:hover{box-shadow:inset 0 -.8em gold;transition:.3s}div.absolute{position:relative}img.UIWideImage{height:auto;width:100%}div.Fix{border:0!important;padding:0!important}div.section{display:inline-block;padding-bottom:50px;padding-top:50px;width:100%}div#imagevideo{left:18%;position:absolute;top:5%;width:47%;z-index:10}p.Figurediscriptiondouble{color:#585858;margin-left:5%;text-align:left}div.doublewrapper,div.singlewrapper{margin:0 auto;width:100%}img.double{height:auto;margin:5%;width:40%}img.WideImage{height:auto;margin-top:30px;width:100%}div.test{background-color:#7cfc00;display:inline-block;text-align:left;width:60%}.DownLoadButton{margin-left:auto;margin-right:auto;margin-top:5%;width:20%}.designimage{height:auto;margin-bottom:2vw;margin-top:2vw;width:55%;z-index:1}div.ImageBlock-Wrapper{display:inline-block;margin-left:auto;margin-right:auto;width:60%}div.ImageBlock-Project{display:inline-block;padding:20px;width:30%}img.ImageBlock{width:100%}p.ImageBlock{color:#bebebe;text-align:left}.LeftImage{height:40vw;text-align:right;width:auto}.RightImage{height:20vw;width:auto}div.DesignBackground{background-color:#eef3f6;text-align:center}.video-wrapper{background-color:#004;display:inline-block;text-align:center;width:100%}.video{display:inherit;height:auto;width:100%}p.description{margin-left:auto;margin-right:auto;text-align:left;width:100%}p.description-Role{font-weight:700}p.Figurediscription{color:#585858;text-align:left}div#imagescroll{top:51%}div#imagescollab,div#imagescroll{left:47%;position:absolute;width:37%;z-index:10}div#imagescollab{top:18%}.videoParent{margin:10px}.p{font-size:25px;line-height:1.75}.wrapper{border:0!important;display:flex!important;flex-flow:row wrap;padding:0!important}#description{margin-bottom:100px;width:500px}video{height:auto;width:450px}</style><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-N9VXQJ1MQ6"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-N9VXQJ1MQ6', {"send_page_view":false});
      }
      </script><title data-react-helmet="true">Toon Shaders | BigBro222&#x27;s Blog</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&amp;display=swap"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/android-chrome-512x512.png"/><link rel="alternate" type="application/rss+xml" title="Minimal Blog - @lekoarts/gatsby-theme-minimal-blog" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-142803a73e977e964f15.js"/><link as="script" rel="preload" href="/framework-8512506d5a16ae6abd75.js"/><link as="script" rel="preload" href="/2fbf9dd2-b5d3c3f8575f5ad85180.js"/><link as="script" rel="preload" href="/app-cd43eb505e435794c804.js"/><link as="script" rel="preload" href="/076b648d06f94fa0e68f4094bcf9c1a72c93f983-7dde430df29f7d9c4c25.js"/><link as="script" rel="preload" href="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-d62e53f414c4fd2c95a4.js"/><link as="fetch" rel="preload" href="/page-data/blog/toon-shader/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/318001574.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global 1yc3m30">html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#e2e8f0;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}html.theme-ui-__default,.theme-ui-__default html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#e2e8f0;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;}html.theme-ui-dark,.theme-ui-dark html{--theme-ui-colors-text:#cbd5e0;--theme-ui-colors-primary:#9f7aea;--theme-ui-colors-secondary:#7f8ea3;--theme-ui-colors-toggleIcon:#cbd5e0;--theme-ui-colors-background:#1A202C;--theme-ui-colors-heading:#fff;--theme-ui-colors-divide:#2d3748;--theme-ui-colors-muted:#2d3748;}</style><style data-emotion="css-global 1j0yc2g">*{box-sizing:border-box;}html{font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);margin:0;padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global h7esfd">*{box-sizing:inherit;}html{-webkit-text-size-adjust:100%;}img{border-style:none;}pre{font-family:monospace;font-size:1em;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text);color:var(--theme-ui-colors-background);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion="css 1gq7j3t">.css-1gq7j3t{border:0;clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1gq7j3t:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading);color:var(--theme-ui-colors-background);z-index:1;width:auto;height:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1gq7j3t">Skip to content</a><style data-emotion="css 1jrqzhj">.css-1jrqzhj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width: 640px){.css-1jrqzhj{padding:2rem;}}</style><div class="css-1jrqzhj"><style data-emotion="css egutgn">.css-egutgn{margin-bottom:4rem;}@media screen and (min-width: 640px){.css-egutgn{margin-bottom:8rem;}}</style><header class="css-egutgn"><style data-emotion="css 1xwyizx">.css-1xwyizx{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><style data-emotion="css 10klvkd">.css-10klvkd{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><div class="css-10klvkd"><style data-emotion="css uxjqfw">.css-uxjqfw{color:var(--theme-ui-colors-heading);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="BigBro222&#x27;s Blog - Back to home" class="css-uxjqfw" href="/"><style data-emotion="css 102q2va">.css-102q2va{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width: 640px){.css-102q2va{font-size:1.875rem;}}</style><div class="css-102q2va">BigBro222&#x27;s Blog</div></a><style data-emotion="css zut31r">.css-zut31r{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}.css-zut31r:hover,.css-zut31r:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-zut31r"><style data-emotion="css 1m6u41m">.css-1m6u41m{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent);-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon);}.css-1m6u41m:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0, 0);-moz-transform:translate(0, 0);-ms-transform:translate(0, 0);transform:translate(0, 0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;transition:transform 0.45s ease;}.css-1m6u41m:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon),0 23px 0 var(--theme-ui-colors-toggleIcon),23px 0 0 var(--theme-ui-colors-toggleIcon),-23px 0 0 var(--theme-ui-colors-toggleIcon),15px 15px 0 var(--theme-ui-colors-toggleIcon),-15px 15px 0 var(--theme-ui-colors-toggleIcon),15px -15px 0 var(--theme-ui-colors-toggleIcon),-15px -15px 0 var(--theme-ui-colors-toggleIcon);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-1m6u41m"></div></button></div><style data-emotion="css fp1v3n">.css-fp1v3n{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary);-webkit-box-flex-flow:wrap;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-fp1v3n a{color:var(--theme-ui-colors-secondary);}.css-fp1v3n a:hover{color:var(--theme-ui-colors-heading);}</style><div class="css-fp1v3n"><style data-emotion="css 1lx5s1f">.css-1lx5s1f{font-size:1rem;}.css-1lx5s1f a:not(:last-of-type){margin-right:1rem;}@media screen and (min-width: 640px){.css-1lx5s1f{font-size:18px;}}.css-1lx5s1f .active{color:var(--theme-ui-colors-heading);}</style><nav class="css-1lx5s1f"><style data-emotion="css bpdkdn">.css-bpdkdn{color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-bpdkdn:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-bpdkdn" href="/blog">Blog</a><a class="css-bpdkdn" href="/about">About</a></nav><style data-emotion="css 45ghvz">.css-45ghvz{font-size:1rem;}.css-45ghvz a:not(:first-of-type){margin-left:1rem;}@media screen and (min-width: 640px){.css-45ghvz{font-size:18px;}}</style><div class="css-45ghvz"><style data-emotion="css 1fmmdck">.css-1fmmdck{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-1fmmdck:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://www.linkedin.com/in/ze-qi/" class="css-1fmmdck">LinkedIn</a><a href="https://github.com/Big-Bro222" class="css-1fmmdck">GitHub</a></div></div></header><style data-emotion="css 1c3blfx">.css-1c3blfx [data-name='live-editor']{font-size:1rem;}.css-1c3blfx [data-name='live-editor'] textarea,.css-1c3blfx [data-name='live-editor'] pre{padding:1rem!important;}.css-1c3blfx [data-name='live-preview']{padding:calc(0.5rem + 10px)!important;background-color:#d2c7ec;}.css-1c3blfx .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-1c3blfx .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-1c3blfx .prism-code{font-size:1.25rem;}}.css-1c3blfx .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1c3blfx .gatsby-highlight[data-language=''] .prism-code,.css-1c3blfx .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-1c3blfx .token{display:inline-block;}.css-1c3blfx p>code,.css-1c3blfx li>code{background-color:var(--theme-ui-colors-gray-2);color:var(--theme-ui-colors-gray-8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-1c3blfx .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1, 22, 39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1c3blfx .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1c3blfx .gatsby-highlight pre code{float:left;min-width:100%;}.css-1c3blfx .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1c3blfx .gatsby-highlight pre[class~="language-javascript"]:before,.css-1c3blfx .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1c3blfx .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-py"]:before,.css-1c3blfx .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1c3blfx .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1c3blfx .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1c3blfx .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1c3blfx .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1c3blfx .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1c3blfx .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1c3blfx .gatsby-highlight pre[class~='language-json']:before,.css-1c3blfx .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1c3blfx .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1c3blfx .gatsby-highlight>code[class*="language-"],.css-1c3blfx .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1, 22, 39);}.css-1c3blfx .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1c3blfx .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1c3blfx .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width: 640px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width: 768px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width: 1024px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx .token-line{padding-right:1rem;}.css-1c3blfx .highlight-line{background-color:rgb(2, 55, 81);border-left:4px solid rgb(2, 155, 206);}.css-1c3blfx .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1c3blfx .react-live-wrapper{position:relative;}.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width: 640px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:-1rem;}}</style><style data-emotion="css albdeh">.css-albdeh{box-sizing:border-box;margin:0;min-width:0;}.css-albdeh [data-name='live-editor']{font-size:1rem;}.css-albdeh [data-name='live-editor'] textarea,.css-albdeh [data-name='live-editor'] pre{padding:1rem!important;}.css-albdeh [data-name='live-preview']{padding:calc(0.5rem + 10px)!important;background-color:#d2c7ec;}.css-albdeh .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-albdeh .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-albdeh .prism-code{font-size:1.25rem;}}.css-albdeh .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-albdeh .gatsby-highlight[data-language=''] .prism-code,.css-albdeh .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-albdeh .token{display:inline-block;}.css-albdeh p>code,.css-albdeh li>code{background-color:var(--theme-ui-colors-gray-2);color:var(--theme-ui-colors-gray-8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-albdeh .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1, 22, 39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-albdeh .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-albdeh .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-albdeh .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-albdeh .gatsby-highlight pre code{float:left;min-width:100%;}.css-albdeh .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-albdeh .gatsby-highlight pre[class~="language-javascript"]:before,.css-albdeh .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-albdeh .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-py"]:before,.css-albdeh .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-albdeh .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-albdeh .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-albdeh .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-albdeh .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-albdeh .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-albdeh .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-albdeh .gatsby-highlight pre[class~='language-json']:before,.css-albdeh .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-albdeh .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-albdeh .gatsby-highlight>code[class*="language-"],.css-albdeh .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1, 22, 39);}.css-albdeh .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-albdeh .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-albdeh .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-albdeh .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-albdeh .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width: 640px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width: 768px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width: 1024px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh .token-line{padding-right:1rem;}.css-albdeh .highlight-line{background-color:rgb(2, 55, 81);border-left:4px solid rgb(2, 155, 206);}.css-albdeh .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-albdeh .react-live-wrapper{position:relative;}.css-albdeh .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width: 640px){.css-albdeh .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 768px){.css-albdeh .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 1024px){.css-albdeh .react-live-wrapper .code-copy-button{right:-1rem;}}</style><main id="skip-nav" class=" css-albdeh"><style data-emotion="css 1aue9xx">.css-1aue9xx{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1aue9xx{font-size:3rem;}}@media screen and (min-width: 768px){.css-1aue9xx{font-size:3rem;}}@media screen and (min-width: 1024px){.css-1aue9xx{font-size:4rem;}}</style><h1 class="css-1aue9xx">Toon Shaders</h1><style data-emotion="css 15ce8we">.css-15ce8we{color:var(--theme-ui-colors-secondary);margin-top:1rem;font-size:1rem;}.css-15ce8we a{color:var(--theme-ui-colors-secondary);}@media screen and (min-width: 640px){.css-15ce8we{font-size:1rem;}}@media screen and (min-width: 768px){.css-15ce8we{font-size:1.25rem;}}</style><p class="css-15ce8we"><time>03.02.2023</time> — <!-- --><a class="css-bpdkdn" href="/tags/unity-developments">Unity developments</a>, <!-- --><a class="css-bpdkdn" href="/tags/shader-effects">Shader Effects</a>, <!-- --><a class="css-bpdkdn" href="/tags/graphics">Graphics</a> — <!-- --><span>2<!-- --> min read<!-- --></span></p><style data-emotion="css b56ay0">.css-b56ay0{margin-top:4rem;margin-bottom:4rem;}.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0, 0, 0, 0.15) 0px 32px 32px 0px,rgba(0, 0, 0, 0.15) 0px 16px 16px 0px,rgba(0, 0, 0, 0.15) 0px 8px 8px 0px,rgba(0, 0, 0, 0.15) 0px 4px 4px 0px;}@media screen and (min-width: 640px){.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width: 768px){.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-b56ay0"><style data-emotion="css 1ccrm8j">.css-1ccrm8j{font-size:1rem;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width: 640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width: 768px){.css-1ccrm8j{font-size:1.25rem;}}</style><p class="css-1ccrm8j"><strong class="css-0">Toon shading</strong> (often called <!-- --><em class="css-0">cel shading</em>) is a rendering style designed to make 3D surfaces emulate 2D, flat surfaces. This is a kind of NPR(Non-Photorealistic Rendering).The core concept of this shading technique is to have sharp diffuse edge and sharp specular reflections and also an Outline.<!-- --></p><style data-emotion="css 1u31ba2">.css-1u31ba2{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1u31ba2{font-size:3rem;}}@media screen and (min-width: 768px){.css-1u31ba2{font-size:3rem;}}@media screen and (min-width: 1024px){.css-1u31ba2{font-size:4rem;}}</style><h1 class="css-1u31ba2">1. How to write a simple toon shader with unlit shader</h1><style data-emotion="css kih3f7">.css-kih3f7{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-kih3f7{font-size:2.25rem;}}@media screen and (min-width: 768px){.css-kih3f7{font-size:2.25rem;}}@media screen and (min-width: 1024px){.css-kih3f7{font-size:3rem;}}</style><h2 class="css-kih3f7">1.1 Diffuse</h2><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><style data-emotion="css dybovu">.css-dybovu{background-color:rgba(107,70,193,0.2);border:none;color:var(--theme-ui-colors-gray-2);cursor:pointer;font-size:14px;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width: 640px){.css-dybovu{font-size:14px;}}@media screen and (min-width: 768px){.css-dybovu{font-size:16px;}}.css-dybovu[disabled]{cursor:not-allowed;}.css-dybovu:not([disabled]):hover{background-color:var(--theme-ui-colors-primary);color:var(--theme-ui-colors-white);}</style><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><style data-emotion="css 15vf505">.css-15vf505{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">//Diffuse light steps</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain"> float difLight=dot(worldLightDir,i.worldNormal)*0.5+0.5;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain"> difLight = smoothstep(0,1,difLight);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain"> float toon=floor(difLight*_Steps)/_Steps;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain"> difLight=lerp(difLight,toon,_ToonEffect);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain"> fixed3 diffuse=_LightColor0.rgb*albedo*_DiffuseColor.rgb*difLight;</span></div></code></pre></div><h2 class="css-kih3f7">1.2 Specular</h2><p class="css-1ccrm8j">The specular calculation of Blinn-Phong light model is to to use the dot product of vertex normal and the middle angle of lightdir and viewdir (halfdir)</p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">//halfDir is the middle angle of lightdir and viewdir</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">//_Gloss is a factor to controll specular strength</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">float spec=pow(max(0,dot(normal,halfDir)),_Gloss)</span></div></code></pre></div><p class="css-1ccrm8j">But for toon shading, we skip the Gloss power and compare the dot product with a threshold using the step function. If the dot product is greater than the threshold the specular is 1, otherwise is 0</p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">float spec=dot(normal,halfDir);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">spec = step(threshold,spec);</span></div></code></pre></div><h2 class="css-kih3f7">1.3 Rim</h2><p class="css-1ccrm8j">Rim is related to the angle of view dir and vertex normal dir. </p><p class="css-1ccrm8j">Rim lighting is the addition of illumination to the edges of an object to simulate reflected light or backlighting. It is especially useful for toon shaders to help the object&#x27;s silhouette stand out among the flat shaded surfaces.</p><p class="css-1ccrm8j">The &quot;rim&quot; of an object will be defined as surfaces that are facing <!-- --><em class="css-0">away</em> from the camera. We will therefore calculate the rim by taking the dot product of the normal and the view direction, and <!-- --><em class="css-0">inverting</em> it.<!-- --></p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">float rimIntensity = smoothstep(_RimAmount - 0.01, _RimAmount + 0.01, rimDot);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">float4 rim = rimIntensity * _RimColor;</span></div></code></pre></div><h2 class="css-kih3f7">1.4 Outline</h2><p class="css-1ccrm8j">To render an outline, here we are using a simple method: to add an additional pass and add an outline offset and then draw the normal object on the top of this pass</p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">//1.object normal extrusion</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">v.vertex.xyz+=_Outline*v.normal;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">o.vertex = UnityObjectToClipPos(v.vertex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">//2.view space normal extrusion</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">float4 pos = mul(UNITY_MATRIX_V, mul(unity_ObjectToWorld, v.vertex));</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain">float3 normal = normalize(mul((float3x3)UNITY_MATRIX_IT_MV,v.normal));</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain">pos = pos + float4(normal,0) * _Outline;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain">o.vertex =  mul(UNITY_MATRIX_P, pos);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11<!-- --></span><span class="token plain">//3.clip space normal extrusion</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12<!-- --></span><span class="token plain">o.vertex = UnityObjectToClipPos(v.vertex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13<!-- --></span><span class="token plain">float3 normal = normalize(mul((float3x3)UNITY_MATRIX_IT_MV, v.normal));</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14<!-- --></span><span class="token plain">float2 viewNormal = TransformViewToProjection(normal.xy);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15<!-- --></span><span class="token plain">o.vertex.xy += viewNormal * _Outline;</span></div></code></pre></div><br/><left>
    <!-- --><img style="border-radius:0.1125em;box-shadow:0 2px 1px 0 rgba(34,36,38,.12),0 2px 5px 0 rgba(34,36,38,.08)" src="https://cdn.jsdelivr.net/gh/Big-Bro222/StaticFileServer/big-bro222.github.io/posts/toon-shader/ToonShader.png" width="50%" alt="Assets" class="css-0"/>
    <!-- --><br/>
    <!-- --><div style="color:#999;border-bottom:1px solid #d9d9d9;display:inline-block" class="css-0">
    Figure 1 Simple toon shader
  	</div></left><p class="css-1ccrm8j">here is a full version of the toon shader based on vertex and fragment shader</p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">Shader &quot;Toon/ToonShader&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">{</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">    Properties</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">        _MainTex (&quot;Texture&quot;, 2D) = &quot;white&quot; {}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">        _DiffuseColor(&quot;Diffuse&quot;,Color)=(1,1,1,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain">        _Outline(&quot;Outline Width&quot;,Range(0,1))=1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain">        _OutlineColor(&quot;Outline Color&quot;,Color)=(0,0,0,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain">        _Steps(&quot;Steps&quot;,Range(1,30)) = 1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10<!-- --></span><span class="token plain">        _ToonEffect(&quot;ToonEffect&quot;, Range(0,1)) = 0.5</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11<!-- --></span><span class="token plain">        _Specular(&quot;Specular Color&quot;,Color)=(1,1,1,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12<!-- --></span><span class="token plain">        _SpecularScale(&quot;Specular Scale&quot;,Range(0.0001,3))=1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13<!-- --></span><span class="token plain">        _RimColor(&quot;Rim Light Color&quot;,Color)=(1,1,1,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14<!-- --></span><span class="token plain">        _RimPower(&quot;Rim Strength&quot;, Range(0.00000001,3))=1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15<!-- --></span><span class="token plain">        _XRayColor(&quot;Oculusion Color&quot;,Color)=(1,1,1,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16<!-- --></span><span class="token plain">        _XRayPower(&quot;XRay Power&quot;,Range(0.0001,3))=1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17<!-- --></span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18<!-- --></span><span class="token plain">    SubShader</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19<!-- --></span><span class="token plain">    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20<!-- --></span><span class="token plain">        Tags</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22<!-- --></span><span class="token plain">            &quot;Queue&quot;= &quot;Geometry+1000&quot; &quot;RenderType&quot;=&quot;Opaque&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24<!-- --></span><span class="token plain">        LOD 100</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25<!-- --></span><span class="token plain">        Pass</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27<!-- --></span><span class="token plain">            Name &quot;Outline&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28<!-- --></span><span class="token plain">            Cull Front</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30<!-- --></span><span class="token plain">            CGPROGRAM</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">31<!-- --></span><span class="token plain">            #pragma vertex vert</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">32<!-- --></span><span class="token plain">            #pragma fragment frag</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">33<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">34<!-- --></span><span class="token plain">            #include &quot;UnityCG.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">35<!-- --></span><span class="token plain">            #include &quot;Lighting.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">36<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">37<!-- --></span><span class="token plain">            struct appdata</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">38<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">39<!-- --></span><span class="token plain">                float4 vertex : POSITION;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">40<!-- --></span><span class="token plain">                float2 uv : TEXCOORD0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">41<!-- --></span><span class="token plain">            };</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">42<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">43<!-- --></span><span class="token plain">            struct v2f</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">44<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">45<!-- --></span><span class="token plain">                float4 vertex : SV_POSITION;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">46<!-- --></span><span class="token plain">            };</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">47<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">48<!-- --></span><span class="token plain">            float _Outline;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">49<!-- --></span><span class="token plain">            fixed4 _OutlineColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">50<!-- --></span><span class="token plain">            float _Steps;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">51<!-- --></span><span class="token plain">            float _ToolEffect;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">52<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">53<!-- --></span><span class="token plain">            v2f vert(appdata_base v)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">54<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">55<!-- --></span><span class="token plain">                v2f o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">56<!-- --></span><span class="token plain">                //物体法线外扩</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">57<!-- --></span><span class="token plain">                //v.vertex.xyz+=_Outline*v.normal;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">58<!-- --></span><span class="token plain">                //o.vertex = UnityObjectToClipPos(v.vertex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">59<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">60<!-- --></span><span class="token plain">                //视角空间法线外拓</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">61<!-- --></span><span class="token plain">                //float4 pos = mul(UNITY_MATRIX_V, mul(unity_ObjectToWorld, v.vertex));</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">62<!-- --></span><span class="token plain">                //float3 normal = normalize(mul((float3x3)UNITY_MATRIX_IT_MV,v.normal));</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">63<!-- --></span><span class="token plain">                //pos = pos + float4(normal,0) * _Outline;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">64<!-- --></span><span class="token plain">                //o.vertex =  mul(UNITY_MATRIX_P, pos);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">65<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">66<!-- --></span><span class="token plain">                //裁剪空间法线外拓</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">67<!-- --></span><span class="token plain">                o.vertex = UnityObjectToClipPos(v.vertex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">68<!-- --></span><span class="token plain">                float3 normal = normalize(mul((float3x3)UNITY_MATRIX_IT_MV, v.normal));</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">69<!-- --></span><span class="token plain">                float2 viewNormal = TransformViewToProjection(normal.xy);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">70<!-- --></span><span class="token plain">                o.vertex.xy += viewNormal * _Outline;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">71<!-- --></span><span class="token plain">                return o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">72<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">73<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">74<!-- --></span><span class="token plain">            fixed4 frag(v2f i) : SV_Target</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">75<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">76<!-- --></span><span class="token plain">                return _OutlineColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">77<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">78<!-- --></span><span class="token plain">            ENDCG</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">79<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">80<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">81<!-- --></span><span class="token plain">        Pass</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">82<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">83<!-- --></span><span class="token plain">            CGPROGRAM</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">84<!-- --></span><span class="token plain">            #pragma vertex vert</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">85<!-- --></span><span class="token plain">            #pragma fragment frag</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">86<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">87<!-- --></span><span class="token plain">            #include &quot;UnityCG.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">88<!-- --></span><span class="token plain">            #include &quot;Lighting.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">89<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">90<!-- --></span><span class="token plain">            struct v2f</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">91<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">92<!-- --></span><span class="token plain">                float4 pos : SV_POSITION;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">93<!-- --></span><span class="token plain">                float2 uv : TEXCOORD0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">94<!-- --></span><span class="token plain">                fixed3 worldNormal:TEXCOORD1;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">95<!-- --></span><span class="token plain">                fixed3 worldPos:TEXCOORD2;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">96<!-- --></span><span class="token plain">            };</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">97<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">98<!-- --></span><span class="token plain">            sampler2D _MainTex;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">99<!-- --></span><span class="token plain">            float4 _MainTex_ST;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">100<!-- --></span><span class="token plain">            float4 _DiffuseColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">101<!-- --></span><span class="token plain">            float _Steps;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">102<!-- --></span><span class="token plain">            float _ToonEffect;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">103<!-- --></span><span class="token plain">            fixed4 _RimColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">104<!-- --></span><span class="token plain">            float _RimPower;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">105<!-- --></span><span class="token plain">            float _SpecularScale;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">106<!-- --></span><span class="token plain">            fixed4 _Specular;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">107<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">108<!-- --></span><span class="token plain">            v2f vert(appdata_base v)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">109<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">110<!-- --></span><span class="token plain">                v2f o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">111<!-- --></span><span class="token plain">                o.pos = UnityObjectToClipPos(v.vertex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">112<!-- --></span><span class="token plain">                o.worldNormal = UnityObjectToWorldNormal(v.normal);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">113<!-- --></span><span class="token plain">                o.worldPos = mul(unity_ObjectToWorld, o.pos);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">114<!-- --></span><span class="token plain">                o.uv = TRANSFORM_TEX(v.texcoord, _MainTex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">115<!-- --></span><span class="token plain">                return o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">116<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">117<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">118<!-- --></span><span class="token plain">            fixed4 frag(v2f i) : SV_Target</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">119<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">120<!-- --></span><span class="token plain">                // sample the texture</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">121<!-- --></span><span class="token plain">                fixed4 albedo = tex2D(_MainTex, i.uv);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">122<!-- --></span><span class="token plain">                fixed3 worldLightDir = UnityWorldSpaceLightDir(i.worldPos);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">123<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">124<!-- --></span><span class="token plain">                //view Direction</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">125<!-- --></span><span class="token plain">                fixed3 viewDir = normalize(UnityWorldSpaceViewDir(i.worldPos));</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">126<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">127<!-- --></span><span class="token plain">                //Diffuse light steps</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">128<!-- --></span><span class="token plain">                float difLight = dot(worldLightDir, i.worldNormal) * 0.5 + 0.5;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">129<!-- --></span><span class="token plain">                difLight = smoothstep(0, 1, difLight);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">130<!-- --></span><span class="token plain">                float toon = floor(difLight * _Steps) / _Steps;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">131<!-- --></span><span class="token plain">                difLight = lerp(difLight, toon, _ToonEffect);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">132<!-- --></span><span class="token plain">                fixed3 diffuse = _LightColor0.rgb * _DiffuseColor.rgb * difLight;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">133<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">134<!-- --></span><span class="token plain">                fixed3 ambient = UNITY_LIGHTMODEL_AMBIENT.xyz * albedo;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">135<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">136<!-- --></span><span class="token plain">                fixed3 halfDir = normalize(worldLightDir + viewDir);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">137<!-- --></span><span class="token plain">                float spec = dot(i.worldNormal, halfDir);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">138<!-- --></span><span class="token plain">                fixed w = fwidth(spec) * 2.0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">139<!-- --></span><span class="token plain">                fixed3 specular = _Specular.rgb * lerp(0, 1, smoothstep(-w, w, spec + _SpecularScale - 1)) * step(</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">140<!-- --></span><span class="token plain">                    0.0001, _SpecularScale);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">141<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">142<!-- --></span><span class="token plain">                /*float rim = 1 - dot(i.worldNormal, viewDir);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">143<!-- --></span><span class="token plain">                fixed3 rimColor = _RimColor * pow(rim, 1 / _RimPower);*/</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">144<!-- --></span><span class="token plain">                float rimdot = 1 - dot(i.worldNormal, viewDir);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">145<!-- --></span><span class="token plain">                float rimIntensity = smoothstep(_RimPower - 0.01, _RimPower + 0.01, rimdot);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">146<!-- --></span><span class="token plain">                float4 rim = rimIntensity * _RimColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">147<!-- --></span><span class="token plain">                return float4(ambient + diffuse + specular + rim, 1);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">148<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">149<!-- --></span><span class="token plain">            ENDCG</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">150<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">151<!-- --></span><span class="token plain">        Pass</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">152<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">153<!-- --></span><span class="token plain">            Tags</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">154<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">155<!-- --></span><span class="token plain">                &quot;LightMode&quot;=&quot;ShadowCaster&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">156<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">157<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">158<!-- --></span><span class="token plain">            CGPROGRAM</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">159<!-- --></span><span class="token plain">            #pragma vertex vert</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">160<!-- --></span><span class="token plain">            #pragma fragment frag</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">161<!-- --></span><span class="token plain">            #pragma multi_compile_shadowcaster</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">162<!-- --></span><span class="token plain">            #include &quot;UnityCG.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">163<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">164<!-- --></span><span class="token plain">            struct v2f</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">165<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">166<!-- --></span><span class="token plain">                V2F_SHADOW_CASTER;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">167<!-- --></span><span class="token plain">            };</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">168<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">169<!-- --></span><span class="token plain">            v2f vert(appdata_base v)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">170<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">171<!-- --></span><span class="token plain">                v2f o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">172<!-- --></span><span class="token plain">                TRANSFER_SHADOW_CASTER_NORMALOFFSET(o)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">173<!-- --></span><span class="token plain">                return o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">174<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">175<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">176<!-- --></span><span class="token plain">            float4 frag(v2f i) : SV_Target</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">177<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">178<!-- --></span><span class="token plain">                SHADOW_CASTER_FRAGMENT(i)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">179<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">180<!-- --></span><span class="token plain">            ENDCG</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">181<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">182<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">183<!-- --></span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">184<!-- --></span><span class="token plain">}</span></div></code></pre></div><h1 class="css-1u31ba2">2. Toon effect in Surface shader</h1><p class="css-1ccrm8j">we can also use Surface shader to implement the toon effect. The main difference is that we need to customize the <!-- --><style data-emotion="css 1bw77fa">.css-1bw77fa{color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-1bw77fa:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://docs.unity3d.com/Manual/SL-SurfaceShaderLightingExamples.html" class="css-1bw77fa">LightMode</a> in Surface shader to achieve this. And the base calculation are similar to the unlit shader. Surface shader enable easier and fast implementation of shadow casting and multiple lights handle<!-- --></p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">//our lighting function. Will be called once per light</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">        float4 LightingStepped(SurfaceOutput s, float3 lightDir, half3 viewDir, float shadowAttenuation){</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">            //how much does the normal point towards the light?</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">            float towardsLight = dot(s.Normal, lightDir);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">            // make the lighting a hard cut</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">            float towardsLightChange = fwidth(towardsLight);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain">            float lightIntensity = smoothstep(0, towardsLightChange, towardsLight);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain">        #ifdef USING_DIRECTIONAL_LIGHT</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10<!-- --></span><span class="token plain">            //for directional lights, get a hard vut in the middle of the shadow attenuation</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11<!-- --></span><span class="token plain">            float attenuationChange = fwidth(shadowAttenuation) * 0.5;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12<!-- --></span><span class="token plain">            float shadow = smoothstep(0.5 - attenuationChange, 0.5 + attenuationChange, shadowAttenuation);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13<!-- --></span><span class="token plain">        #else</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14<!-- --></span><span class="token plain">            //for other light types (point, spot), put the cutoff near black, so the falloff doesn&#x27;t affect the range</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15<!-- --></span><span class="token plain">            float attenuationChange = fwidth(shadowAttenuation);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16<!-- --></span><span class="token plain">            float shadow = smoothstep(0, attenuationChange, shadowAttenuation);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17<!-- --></span><span class="token plain">        #endif</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18<!-- --></span><span class="token plain">            lightIntensity = lightIntensity * shadow;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20<!-- --></span><span class="token plain">            //calculate shadow color and mix light and shadow based on the light. Then taint it based on the light color</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21<!-- --></span><span class="token plain">            float3 shadowColor = s.Albedo * _ShadowTint;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22<!-- --></span><span class="token plain">            float4 color;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23<!-- --></span><span class="token plain">            color.rgb = lerp(shadowColor, s.Albedo, lightIntensity) * _LightColor0.rgb;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24<!-- --></span><span class="token plain">            color.a = s.Alpha;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25<!-- --></span><span class="token plain">            return color;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26<!-- --></span><span class="token plain">        }</span></div></code></pre></div><undefined><br/><br/><left>
    <!-- --><img style="border-radius:0.1125em;box-shadow:0 2px 1px 0 rgba(34,36,38,.12),0 2px 5px 0 rgba(34,36,38,.08)" src="https://cdn.jsdelivr.net/gh/Big-Bro222/StaticFileServer/big-bro222.github.io/posts/toon-shader/ToonShaderSurface.png" width="50%" alt="Assets" class="css-0"/>
    <!-- --><br/>
    <!-- --><div style="color:#999;border-bottom:1px solid #d9d9d9;display:inline-block" class="css-0">
    Figure 2 Surface toon shader
  	</div></left></undefined><p class="css-1ccrm8j">Multiple lights and cast shadow</p><p class="css-1ccrm8j">The full shader script is as follow</p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">Shader &quot;Toon/ToonShaderSurfaceBigBro&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">{</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">    Properties</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">        _Color (&quot;Color&quot;, Color) = (1,1,1,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">        _MainTex (&quot;Albedo (RGB)&quot;, 2D) = &quot;white&quot; {}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain">        _Outline(&quot;Outline Width&quot;,Range(0,1))=1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain">        _OutlineColor(&quot;Outline Color&quot;,Color)=(0,0,0,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain">        _Steps(&quot;Steps&quot;,Range(1,30)) = 1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10<!-- --></span><span class="token plain">        _ToonEffect(&quot;ToonEffect&quot;, Range(0,1)) = 0.5</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11<!-- --></span><span class="token plain">        _DiffuseColor(&quot;Diffuse&quot;,Color)=(1,1,1,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12<!-- --></span><span class="token plain">        _Specular(&quot;Specular Color&quot;,Color)=(1,1,1,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13<!-- --></span><span class="token plain">        _SpecularScale(&quot;Specular Scale&quot;,Range(0.0001,3))=1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14<!-- --></span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15<!-- --></span><span class="token plain">    SubShader</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16<!-- --></span><span class="token plain">    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17<!-- --></span><span class="token plain">        Tags</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19<!-- --></span><span class="token plain">            &quot;RenderType&quot;=&quot;Opaque&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21<!-- --></span><span class="token plain">        LOD 200</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22<!-- --></span><span class="token plain">        Pass</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24<!-- --></span><span class="token plain">            Name &quot;Outline&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25<!-- --></span><span class="token plain">            Cull Front</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27<!-- --></span><span class="token plain">            CGPROGRAM</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28<!-- --></span><span class="token plain">            #pragma vertex vert</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29<!-- --></span><span class="token plain">            #pragma fragment frag</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">31<!-- --></span><span class="token plain">            #include &quot;UnityCG.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">32<!-- --></span><span class="token plain">            #include &quot;Lighting.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">33<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">34<!-- --></span><span class="token plain">            struct appdata</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">35<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">36<!-- --></span><span class="token plain">                float4 vertex : POSITION;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">37<!-- --></span><span class="token plain">                float2 uv : TEXCOORD0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">38<!-- --></span><span class="token plain">            };</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">39<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">40<!-- --></span><span class="token plain">            struct v2f</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">41<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">42<!-- --></span><span class="token plain">                float4 vertex : SV_POSITION;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">43<!-- --></span><span class="token plain">            };</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">44<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">45<!-- --></span><span class="token plain">            float _Outline;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">46<!-- --></span><span class="token plain">            fixed4 _OutlineColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">47<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">48<!-- --></span><span class="token plain">            v2f vert(appdata_base v)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">49<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">50<!-- --></span><span class="token plain">                v2f o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">51<!-- --></span><span class="token plain">                //裁剪空间法线外拓</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">52<!-- --></span><span class="token plain">                o.vertex = UnityObjectToClipPos(v.vertex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">53<!-- --></span><span class="token plain">                float3 normal = normalize(mul((float3x3)UNITY_MATRIX_IT_MV, v.normal));</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">54<!-- --></span><span class="token plain">                float2 viewNormal = TransformViewToProjection(normal.xy);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">55<!-- --></span><span class="token plain">                o.vertex.xy += viewNormal * _Outline;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">56<!-- --></span><span class="token plain">                return o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">57<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">58<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">59<!-- --></span><span class="token plain">            fixed4 frag(v2f i) : SV_Target</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">60<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">61<!-- --></span><span class="token plain">                return _OutlineColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">62<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">63<!-- --></span><span class="token plain">            ENDCG</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">64<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">65<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">66<!-- --></span><span class="token plain">        CGPROGRAM</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">67<!-- --></span><span class="token plain">        #pragma surface surf Toon addshadow</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">68<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">69<!-- --></span><span class="token plain">        float4 _DiffuseColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">70<!-- --></span><span class="token plain">        fixed4 _Color;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">71<!-- --></span><span class="token plain">        float _Steps;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">72<!-- --></span><span class="token plain">        float _ToonEffect;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">73<!-- --></span><span class="token plain">        float _SpecularScale;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">74<!-- --></span><span class="token plain">        fixed4 _Specular;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">75<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">76<!-- --></span><span class="token plain">        half4 LightingToon(SurfaceOutput s, half3 lightDir, half3 viewDir, half atten)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">77<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">78<!-- --></span><span class="token plain">            //Diffuse light steps</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">79<!-- --></span><span class="token plain">            float difLight = dot(lightDir, s.Normal) * 0.5 + 0.5;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">80<!-- --></span><span class="token plain">            difLight = smoothstep(0, 1, difLight);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">81<!-- --></span><span class="token plain">            float toon = floor(difLight * _Steps) / _Steps;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">82<!-- --></span><span class="token plain">            difLight = lerp(difLight, toon, _ToonEffect);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">83<!-- --></span><span class="token plain">            fixed3 diff = _LightColor0.rgb * _DiffuseColor.rgb * difLight;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">84<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">85<!-- --></span><span class="token plain">            fixed3 halfDir = normalize(lightDir + viewDir);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">86<!-- --></span><span class="token plain">            float spec = dot(s.Normal, halfDir);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">87<!-- --></span><span class="token plain">            fixed w = fwidth(spec) * 2.0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">88<!-- --></span><span class="token plain">            fixed3 specular = _Specular.rgb * lerp(0, 1, smoothstep(-w, w, spec + _SpecularScale - 1)) * step(</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">89<!-- --></span><span class="token plain">                0.0001, _SpecularScale);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">90<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">91<!-- --></span><span class="token plain">            fixed3 ambient = UNITY_LIGHTMODEL_AMBIENT.xyz * _Color;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">92<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">93<!-- --></span><span class="token plain">            //custom shadow</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">94<!-- --></span><span class="token plain">            #ifdef USING_DIRECTIONAL_LIGHT</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">95<!-- --></span><span class="token plain">            float attenuationChange = fwidth(atten) * 0.5;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">96<!-- --></span><span class="token plain">            float shadow = smoothstep(0.5 - attenuationChange, 0.5 + attenuationChange, atten);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">97<!-- --></span><span class="token plain">            #else</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">98<!-- --></span><span class="token plain">            float attenuationChange = fwidth(atten);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">99<!-- --></span><span class="token plain">            float shadow = smoothstep(0, attenuationChange, atten);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">100<!-- --></span><span class="token plain">            #endif</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">101<!-- --></span><span class="token plain">            half4 c;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">102<!-- --></span><span class="token plain">            c.rgb = (ambient + diff + specular) * atten * s.Albedo;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">103<!-- --></span><span class="token plain">            c.a = s.Alpha;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">104<!-- --></span><span class="token plain">            return c;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">105<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">106<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">107<!-- --></span><span class="token plain">        struct Input</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">108<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">109<!-- --></span><span class="token plain">            float2 uv_MainTex;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">110<!-- --></span><span class="token plain">        };</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">111<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">112<!-- --></span><span class="token plain">        sampler2D _MainTex;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">113<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">114<!-- --></span><span class="token plain">        void surf(Input IN, inout SurfaceOutput o)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">115<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">116<!-- --></span><span class="token plain">            o.Albedo = tex2D(_MainTex, IN.uv_MainTex).rgb;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">117<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">118<!-- --></span><span class="token plain">        ENDCG</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">119<!-- --></span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">120<!-- --></span><span class="token plain">    FallBack &quot;Diffuse&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">121<!-- --></span><span class="token plain">}</span></div></code></pre></div><h1 class="css-1u31ba2">3. Other effects in Toon shader</h1><h2 class="css-kih3f7">3.1 Light turbulance</h2><p class="css-1ccrm8j">To enable a light turbulance for a torch, the trick is to add as offset for the lightDir</p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">float3 shakeOffset = float3(0, 0, 0);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">shakeOffset.x = sin(_Time.z * 15);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">shakeOffset.y = sin(_Time.z * 13 + 5);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">shakeOffset.z = sin(_Time.z * 12 + 7);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">#ifdef POINT</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain">lightDir += shakeOffset * 0.1f;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain">#endif</span></div></code></pre></div><undefined><br/><br/><left>
    <!-- --><img style="border-radius:0.1125em;box-shadow:0 2px 1px 0 rgba(34,36,38,.12),0 2px 5px 0 rgba(34,36,38,.08)" src="https://cdn.jsdelivr.net/gh/Big-Bro222/StaticFileServer/big-bro222.github.io/posts/toon-shader/LightTurbulance.gif" width="50%" alt="Assets" class="css-0"/>
    <!-- --><br/>
    <!-- --><div style="color:#999;border-bottom:1px solid #d9d9d9;display:inline-block" class="css-0">
    Figure 3 LightTurbulance
  	</div></left></undefined><h2 class="css-kih3f7">3.2 Hair specular</h2><p class="css-1ccrm8j">Kajiya-Kay Shading Model</p><h2 class="css-kih3f7">3.3 With multiple lights</h2><p class="css-1ccrm8j">There is another way to add multiple lights. By default, the Unity light system only supports four light sources. But we can add lights manually to make sure that every light has been calculate throw for shadow casting.</p><p class="css-1ccrm8j">First there should be a LitTag to mark which light we want to take count.</p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">public class MultiLitsTag:MonoBehaviour</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">{</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">    public float shakeStrength = 0.5f;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    public int litSorting = 0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">}</span></div></code></pre></div><p class="css-1ccrm8j">Then generate a multilights container, and send the following message to shader:</p><p class="css-1ccrm8j">(float4)_LitPosList: xyz is the world position, z can be another light perticular factor</p><p class="css-1ccrm8j">(float4)_LitColList:xyz is the light color, w is the light range</p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">public class MultiLitsContainer : MonoBehaviour</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">{</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">    [SerializeField] private Transform[] pointLits;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">    private Light[] _pointLightList;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain">    private MultiLitsTag[] _lightTagList;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain">    // Start is called before the first frame update</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain">    void Awake()</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10<!-- --></span><span class="token plain">    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11<!-- --></span><span class="token plain">        _pointLightList = new Light[pointLits.Length];</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12<!-- --></span><span class="token plain">        _lightTagList = new MultiLitsTag[pointLits.Length];</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13<!-- --></span><span class="token plain">        for (int i = 0; i &lt; pointLits.Length; i++)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15<!-- --></span><span class="token plain">            _pointLightList[i] = pointLits[i].GetComponent&lt;Light&gt;();</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16<!-- --></span><span class="token plain">            _lightTagList[i]=pointLits[i].GetComponent&lt;MultiLitsTag&gt;();</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18<!-- --></span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20<!-- --></span><span class="token plain">    // Update is called once per frame</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21<!-- --></span><span class="token plain">    void Update()</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22<!-- --></span><span class="token plain">    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23<!-- --></span><span class="token plain">        Vector4[] litPosList = new Vector4[10];</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24<!-- --></span><span class="token plain">        Vector4[] litColList = new Vector4[10];</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26<!-- --></span><span class="token plain">        for (int i = 0; i &lt; pointLits.Length; i++)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28<!-- --></span><span class="token plain">            litPosList[i] = new Vector4(pointLits[i].position.x,pointLits[i].position.y,pointLits[i].position.z,_lightTagList[i].shakeStrength);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29<!-- --></span><span class="token plain">            litColList[i] = new Vector4(_pointLightList[i].color.r,_pointLightList[i].color.g,_pointLightList[i].color.b,_pointLightList[i].range);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">31<!-- --></span><span class="token plain">        Shader.SetGlobalFloat(&quot;_LitCount&quot;,pointLits.Length);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">32<!-- --></span><span class="token plain">        Shader.SetGlobalVectorArray(&quot;_LitPosList&quot;,litPosList);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">33<!-- --></span><span class="token plain">        Shader.SetGlobalVectorArray(&quot;_LitColList&quot;,litColList);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">34<!-- --></span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">35<!-- --></span><span class="token plain">}</span></div></code></pre></div><p class="css-1ccrm8j"> And the shader would be as following</p><div class="gatsby-highlight" data-language="glsl"><pre class="prism-code language-glsl" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-dybovu">Copy<!-- --><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-glsl"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1<!-- --></span><span class="token plain">Shader &quot;Toon/ToonMultipleLightShader&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2<!-- --></span><span class="token plain">{</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3<!-- --></span><span class="token plain">    Properties</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4<!-- --></span><span class="token plain">    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5<!-- --></span><span class="token plain">        _Tint(&quot;Tint&quot;,Color)=(1,1,1,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6<!-- --></span><span class="token plain">        _MainTex (&quot;Texture&quot;, 2D) = &quot;white&quot; {}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7<!-- --></span><span class="token plain">        _UnlitColor(&quot;Shadow Color&quot;,Color)=(0.5,0.5,0.5,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8<!-- --></span><span class="token plain">        _MultiListFadeDistance(&quot;MultiList FadeDistance&quot;,Float)=20</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9<!-- --></span><span class="token plain">        </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10<!-- --></span><span class="token plain">        _RimColor(&quot;Rim Color&quot;,Color)=(0.5,0.5,0.5,1)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11<!-- --></span><span class="token plain">        _RimLightSampler (&quot;RimLight Sampler&quot;, 2D) = &quot;white&quot; {}</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12<!-- --></span><span class="token plain">        _RimIntensity(&quot;Rim Intensity&quot;,Float)=10</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13<!-- --></span><span class="token plain">        _UnlitThreshold(&quot;Shadow Range&quot;,Range(0,1))=0.1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14<!-- --></span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15<!-- --></span><span class="token plain">    SubShader</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16<!-- --></span><span class="token plain">    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17<!-- --></span><span class="token plain">        Tags</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19<!-- --></span><span class="token plain">            &quot;Queue&quot;=&quot;Geometry&quot; &quot;RenderType&quot;=&quot;Opaque&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21<!-- --></span><span class="token plain">        LOD 100</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23<!-- --></span><span class="token plain">        Pass</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24<!-- --></span><span class="token plain">        {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25<!-- --></span><span class="token plain">            Tags</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27<!-- --></span><span class="token plain">                &quot;LightMode&quot;=&quot;ForwardBase&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29<!-- --></span><span class="token plain">            CGPROGRAM</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30<!-- --></span><span class="token plain">            #pragma vertex vert</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">31<!-- --></span><span class="token plain">            #pragma fragment frag</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">32<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">33<!-- --></span><span class="token plain">            #include &quot;UnityCG.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">34<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">35<!-- --></span><span class="token plain">            #pragma multi_compile_fwdbase</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">36<!-- --></span><span class="token plain">            #include &quot;AutoLight.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">37<!-- --></span><span class="token plain">            #include &quot;UnityLightingCommon.cginc&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">38<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">39<!-- --></span><span class="token plain">            struct appdata</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">40<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">41<!-- --></span><span class="token plain">                float4 vertex : POSITION;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">42<!-- --></span><span class="token plain">                float3 normal : NORMAL;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">43<!-- --></span><span class="token plain">                float2 uv : TEXCOORD0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">44<!-- --></span><span class="token plain">            };</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">45<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">46<!-- --></span><span class="token plain">            struct v2f</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">47<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">48<!-- --></span><span class="token plain">                float4 pos:SV_POSITION;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">49<!-- --></span><span class="token plain">                float4 posWorld:TEXCOORD0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">50<!-- --></span><span class="token plain">                float3 normal:TEXCOORD1;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">51<!-- --></span><span class="token plain">                float2 uv : TEXCOORD2;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">52<!-- --></span><span class="token plain">                float3 camDir: TEXCOORD3;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">53<!-- --></span><span class="token plain">                float3 lightDir: TEXCOORD4;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">54<!-- --></span><span class="token plain">                LIGHTING_COORDS(5, 6)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">55<!-- --></span><span class="token plain">            };</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">56<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">57<!-- --></span><span class="token plain">            sampler2D _MainTex;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">58<!-- --></span><span class="token plain">            float4 _MainTex_ST;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">59<!-- --></span><span class="token plain">            fixed4 _Tint;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">60<!-- --></span><span class="token plain">            fixed4 _UnlitColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">61<!-- --></span><span class="token plain">            </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">62<!-- --></span><span class="token plain">            float _UnlitThreshold;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">63<!-- --></span><span class="token plain">            float _MultiListFadeDistance;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">64<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">65<!-- --></span><span class="token plain">            fixed4 _RimColor;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">66<!-- --></span><span class="token plain">            sampler2D _RimLightSampler;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">67<!-- --></span><span class="token plain">            float _RimIntensity;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">68<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">69<!-- --></span><span class="token plain">            float _LitCount;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">70<!-- --></span><span class="token plain">            float4 _LitPosList[10];</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">71<!-- --></span><span class="token plain">            float4 _LitColList[10];</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">72<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">73<!-- --></span><span class="token plain">            v2f vert(appdata v)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">74<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">75<!-- --></span><span class="token plain">                v2f o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">76<!-- --></span><span class="token plain">                o.pos = UnityObjectToClipPos(v.vertex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">77<!-- --></span><span class="token plain">                o.posWorld = mul(unity_ObjectToWorld, v.vertex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">78<!-- --></span><span class="token plain">                o.normal = UnityObjectToWorldNormal(v.normal);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">79<!-- --></span><span class="token plain">                o.camDir = normalize(_WorldSpaceCameraPos - o.posWorld);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">80<!-- --></span><span class="token plain">                o.lightDir = WorldSpaceLightDir(v.vertex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">81<!-- --></span><span class="token plain">                o.uv = TRANSFORM_TEX(v.uv, _MainTex);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">82<!-- --></span><span class="token plain">                return o;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">83<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">84<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">85<!-- --></span><span class="token plain">            fixed4 frag(v2f i) : SV_Target</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">86<!-- --></span><span class="token plain">            {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">87<!-- --></span><span class="token plain">                // sample the texture</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">88<!-- --></span><span class="token plain">                fixed4 col = tex2D(_MainTex, i.uv) * _Tint;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">89<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">90<!-- --></span><span class="token plain">                //add fire shake effect</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">91<!-- --></span><span class="token plain">                fixed4 pointLitCol = fixed4(0, 0, 0, 0);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">92<!-- --></span><span class="token plain">                fixed pointLit = 0;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">93<!-- --></span><span class="token plain">                float3 shakeOffset = float3(0, 0, 0);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">94<!-- --></span><span class="token plain">                shakeOffset.x = sin(_Time.z * 15);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">95<!-- --></span><span class="token plain">                shakeOffset.y = sin(_Time.z * 13+5);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">96<!-- --></span><span class="token plain">                shakeOffset.z = sin(_Time.z * 12+7);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">97<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">98<!-- --></span><span class="token plain">                for (int n = 0; n &lt; _LitCount; n++)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">99<!-- --></span><span class="token plain">                {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">100<!-- --></span><span class="token plain">                    float litDist = distance(_LitPosList[n].xyz, i.posWorld.xyz);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">101<!-- --></span><span class="token plain">                    float viewDist = distance(_LitPosList[n].xyz, _WorldSpaceCameraPos);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">102<!-- --></span><span class="token plain">                    float viewFade = 1 - saturate(viewDist / _MultiListFadeDistance);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">103<!-- --></span><span class="token plain">                    if (litDist &lt; _MultiListFadeDistance)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">104<!-- --></span><span class="token plain">                    {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">105<!-- --></span><span class="token plain">                        float3 litDir = _LitPosList[n].xyz - i.posWorld.xyz;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">106<!-- --></span><span class="token plain">                        litDir += shakeOffset * 0.07 * _LitPosList[n].w;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">107<!-- --></span><span class="token plain">                        litDir = normalize(litDir);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">108<!-- --></span><span class="token plain">                        fixed newlitValue = max(0, dot(i.normal, litDir)) * (_LitPosList[n].w - litDist) * viewFade &gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">109<!-- --></span><span class="token plain">                            0.3;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">110<!-- --></span><span class="token plain">                        fixed4 newlitCol = newlitValue * fixed4(_LitColList[n].xyz, 1);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">111<!-- --></span><span class="token plain">                        pointLitCol = lerp(pointLitCol, newlitCol, newlitValue);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">112<!-- --></span><span class="token plain">                    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">113<!-- --></span><span class="token plain">                }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">114<!-- --></span><span class="token plain">                </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">115<!-- --></span><span class="token plain">                //light and shadow</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">116<!-- --></span><span class="token plain">                float3 normalDirection = normalize(i.normal);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">117<!-- --></span><span class="token plain">                float attenuation = LIGHT_ATTENUATION(i);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">118<!-- --></span><span class="token plain">                float3 lightDirection = normalize(_WorldSpaceLightPos0).xyz;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">119<!-- --></span><span class="token plain">                fixed3 lightColor = _Tint.rgb * _UnlitColor.rgb * _LightColor0.rgb;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">120<!-- --></span><span class="token plain">                if (attenuation * max(0.0, dot(normalDirection, lightDirection)) &gt;= _UnlitThreshold)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">121<!-- --></span><span class="token plain">                {</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">122<!-- --></span><span class="token plain">                    lightColor = _LightColor0.rgb * _Tint.rgb;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">123<!-- --></span><span class="token plain">                }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">124<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">125<!-- --></span><span class="token plain">                //Rimlight</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">126<!-- --></span><span class="token plain">                float normalDotCam = dot(i.normal, i.camDir.xyz);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">127<!-- --></span><span class="token plain">                float falloffU = clamp(1.0 - abs(normalDotCam), 0.02, 0.98);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">128<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">129<!-- --></span><span class="token plain">                float rimlightDot = saturate(0.5 * (dot(i.normal, i.lightDir + float3(-1, 0, 0)) + 1.5));</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">130<!-- --></span><span class="token plain">                falloffU = saturate(rimlightDot * falloffU);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">131<!-- --></span><span class="token plain">                falloffU = tex2D(_RimLightSampler, float2(falloffU, 0.25f)).r;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">132<!-- --></span><span class="token plain">                float3 rimCol = falloffU * col * _RimColor * _RimIntensity;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">133<!-- --></span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">134<!-- --></span><span class="token plain">                return float4(col.rgb * (lightColor.rgb + pointLitCol) + rimCol, 1.0);</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">135<!-- --></span><span class="token plain">            }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">136<!-- --></span><span class="token plain">            ENDCG</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">137<!-- --></span><span class="token plain">        }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">138<!-- --></span><span class="token plain">    }</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">139<!-- --></span><span class="token plain">    Fallback &quot;VertexLit&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">140<!-- --></span><span class="token plain">}</span></div></code></pre></div><undefined><br/><br/><left>
    <!-- --><img style="border-radius:0.1125em;box-shadow:0 2px 1px 0 rgba(34,36,38,.12),0 2px 5px 0 rgba(34,36,38,.08)" src="https://cdn.jsdelivr.net/gh/Big-Bro222/StaticFileServer/big-bro222.github.io/posts/toon-shader/multilight.png" width="50%" alt="Assets" class="css-0"/>
    <!-- --><br/>
    <!-- --><div style="color:#999;border-bottom:1px solid #d9d9d9;display:inline-block" class="css-0">
    Figure 4 Multiple light toon shader
  	</div></left></undefined><h1 class="css-1u31ba2">Reference</h1><p class="css-1ccrm8j"><a href="https://sorumi.xyz/posts/unity-toon-shader/" class="css-1bw77fa">https://sorumi.xyz/posts/unity-toon-shader/</a></p><p class="css-1ccrm8j"><a href="https://blog.csdn.net/QO_GQ/article/details/119616656" class="css-1bw77fa">https://blog.csdn.net/QO_GQ/article/details/119616656</a></p><p class="css-1ccrm8j"><a href="https://blog.csdn.net/csuyuanxing/article/details/123519895" class="css-1bw77fa">https://blog.csdn.net/csuyuanxing/article/details/123519895</a></p><p class="css-1ccrm8j"><a href="https://www.cnblogs.com/littleperilla/p/15759993.html" class="css-1bw77fa">https://www.cnblogs.com/littleperilla/p/15759993.html</a></p><p class="css-1ccrm8j"><a href="https://roystan.net/articles/toon-shader/" class="css-1bw77fa">https://roystan.net/articles/toon-shader/</a></p><p class="css-1ccrm8j"><a href="https://www.ronja-tutorials.com/post/032-improved-toon/" class="css-1bw77fa">https://www.ronja-tutorials.com/post/032-improved-toon/</a></p><p class="css-1ccrm8j"><a href="http://walkingfat.com/%E3%80%8A%E5%A1%9E%E5%B0%94%E8%BE%BE-%E8%8D%92%E9%87%8E%E4%B9%8B%E6%81%AF%E3%80%8B%E4%B8%AD%E8%A7%92%E8%89%B2%E5%8F%97%E5%A4%9A%E4%B8%AA%E7%82%B9%E5%85%89%E6%BA%90%E5%BD%B1%E5%93%8D%E5%81%9A%E6%B3%95/" class="css-1bw77fa">http://walkingfat.com/《塞尔达-荒野之息》中角色受多个点光源影响做法/</a></p><p class="css-1ccrm8j"><a href="http://tuyg.top/archives/876" class="css-1bw77fa">http://tuyg.top/archives/876</a></p><p class="css-1ccrm8j"><a href="https://docs.unity3d.com/Manual/SL-SurfaceShaderLightingExamples.html" class="css-1bw77fa">https://docs.unity3d.com/Manual/SL-SurfaceShaderLightingExamples.html</a></p></section></main><style data-emotion="css y7pay1">.css-y7pay1{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide);padding-top:1rem;}.css-y7pay1 a{color:var(--theme-ui-colors-secondary);-webkit-text-decoration:none;text-decoration:none;}.css-y7pay1 a:hover{color:var(--theme-ui-colors-heading);-webkit-text-decoration:underline;text-decoration:underline;}.css-y7pay1 a:focus{color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-y7pay1{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width: 768px){.css-y7pay1{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-y7pay1"><div>© <!-- -->2023<!-- --> by <!-- -->BigBro222&#x27;s Blog<!-- -->. All rights reserved.<!-- --></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/toon-shader";window.___webpackCompilationHash="1c2ed9c933c633b40ac5";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-4dbba807cf0e1020619d.js"],"app":["/app-cd43eb505e435794c804.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx-e8cf1cfb70bc0e201426.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx-98181eb71e555fc9c05c.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-8868e1ab431d0a27d517.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-d62e53f414c4fd2c95a4.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-e3f74fa149eec50a4664.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-cd86ca77298583b099f1.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-0c949db1f2e8795aec41.js"]};/*]]>*/</script><script src="/polyfill-4dbba807cf0e1020619d.js" nomodule=""></script><script src="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-d62e53f414c4fd2c95a4.js" async=""></script><script src="/076b648d06f94fa0e68f4094bcf9c1a72c93f983-7dde430df29f7d9c4c25.js" async=""></script><script src="/app-cd43eb505e435794c804.js" async=""></script><script src="/2fbf9dd2-b5d3c3f8575f5ad85180.js" async=""></script><script src="/framework-8512506d5a16ae6abd75.js" async=""></script><script src="/webpack-runtime-142803a73e977e964f15.js" async=""></script></body></html>